# Обновление платежного протокола ЮKassa (метод b2b_sberbank) | проверьте совместимость вашего ПО

В ближайшие две недели будет проведено обновление платежного протокола ЮKassa в части метода b2b_sberbank.

После обновления, если значение kpp из объекта payer_bank_details будет пустое, то оно не будет передаваться.

Вот пример объекта платежа, сейчас в нем передается пустое значение kpp (см. payer_bank_details):
```
{headers={"headers":{"Signature":"v1 29c53e6c 1 MGQCMGxCcsYu5MWULWSnxdYmrlsZZl2M47KT8KHPbuNsCrBvKim4RupTq95arHSjBmpTsAIwWPYeFDW+ZINRERubncQ3872Sc+ZPHT+xcjdGVEA4qf0JTKGfbMp3QR8fTEL9NJkC"}}, content_type=application/json; charset=UTF-8, body={
  "type" : "notification",
  "event" : "payment.succeeded",
  "object" : {
    "id" : "29c7de2-000f-5000-8000-1709f5f07f06",
    "status" : "succeeded",
    "amount" : {
      "value" : "1000.00",
      "currency" : "RUB"
    },
    "income_amount" : {
      "value" : "972.00",
      "currency" : "RUB"
    },
    "description" : "Платеж за услуги, счет N 100500",
    "recipient" : {
      "account_id" : "100500",
      "gateway_id" : "100700"
    },
    "payment_method" : {
      "type" : "b2b_sberbank",
      "id" : "29c53de2-000f-5000-8000-1709f5f07f06",
      "saved" : false,
      "payment_purpose" : "Платеж за услуги, счет N 100500",
      "vat_data" : {
        "type" : "untaxed"
      },
      "payer_bank_details" : {
        "full_name" : "Индивидуальный предприниматель Иванов Сергей Борисович",
        "short_name" : "Индивидуальный предприниматель Иванов Сергей Борисович",
        "address" : "692441, Приморский край, г.Дальнегорск, ул. Осипенко, дом 274",
        "inn" : "300001500700",
        "kpp" : "",
        "bank_name" : "Среднерусский банк Публичное акционерное общество \"Сбербанк России\"",
        "bank_branch" : "Среднерусский банк Публичное акционерное общество \"Сбербанк России\"",
        "bank_bik" : "000700900",
        "account" : "405043210509000004990"
      }
    },
    "captured_at" : "2022-03-17T12:33:48.241Z",
    "created_at" : "2022-03-17T12:31:30.023Z",
    "test" : false,
    "refunded_amount" : {
      "value" : "0.00",
      "currency" : "RUB"
    },
    "paid" : true,
    "refundable" : true,
    "metadata" : { }
  }
```

После обновления платежного протокола, в случае, если kpp будет пустым, оно не будет передаваться. Покажите это письмо вашему техническому специалисту или программисту, чтобы он проверил на вашей стороне, чтобы отсутствие этого параметра в объекте платежа не ломало процесс обработки платежа на вашей стороне.

Вот пример, когда kpp не будет передано:
```
      "payer_bank_details" : {
        "full_name" : "Индивидуальный предприниматель Иванов Сергей Борисович",
        "short_name" : "Индивидуальный предприниматель Иванов Сергей Борисович",
        "address" : "692441, Приморский край, г.Дальнегорск, ул. Осипенко, дом 274",
        "inn" : "300001500700",
        "bank_name" : "Среднерусский банк Публичное акционерное общество \"Сбербанк России\"",
        "bank_branch" : "Среднерусский банк Публичное акционерное общество \"Сбербанк России\"",
        "bank_bik" : "000700900",
        "account" : "405043210509000004990"
      }
```

Вот пример, когда kpp будет передано (в случае, если у этого параметра есть значение:

```
      "payer_bank_details" : {
        "full_name" : "Индивидуальный предприниматель Иванов Сергей Борисович",
        "short_name" : "Индивидуальный предприниматель Иванов Сергей Борисович",
        "address" : "692441, Приморский край, г.Дальнегорск, ул. Осипенко, дом 274",
        "inn" : "300001500700",
        "kpp" : "123450333",
        "bank_name" : "Среднерусский банк Публичное акционерное общество \"Сбербанк России\"",
        "bank_branch" : "Среднерусский банк Публичное акционерное общество \"Сбербанк России\"",
        "bank_bik" : "000700900",
        "account" : "405043210509000004990"
      }
      ```
